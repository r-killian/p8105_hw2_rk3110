Homework 2
================
Rose Killian (rk3110)

# Section 0

Loading the libraries needed for this homework.

``` r
library(tidyverse)
library(readxl)
```

# Problem 1

First we need to import data from the Mr. Trash Wheel excel file.
Looking at it, there is banner on line one that has a drawing of
Mr. Wheel. While cute, we should exclude that line from the import.
Since some cells of the sheet also contain notes, it is easiest to just
define the area with the data we want when importing and then specify to
drop rows without dumpster specific information. We will also clean the
names and round the number of sports balls per dumpster to the nearest
integer.

``` r
trash_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", 
      sheet = "Mr. Trash Wheel", 
      range = "A2:N574"
) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = round(sports_balls))
```

Next we will import and clean the precipitation data for 2018 and 2019.
We will also combine the datasets and convert `month` to a character
variable. I also reordered the columns so year comes first.

``` r
prcp_2018 = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
      sheet = "2018 Precipitation",
      skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018)

prcp_2019 = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
      sheet = "2019 Precipitation",
      skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2019)

prcp_df = 
  bind_rows(prcp_2018, prcp_2019) %>% 
  mutate(month = month.name[month]) %>% 
  relocate(year)
```

# Problem 2

## Part 1

Now we take a look at the FiveThirtyEight data. Let’s import the first
csv, clean names, separate the date variable into its components, and
replace the month number with its name.We will also create a new
variable `president` with values `gop` or `dem` and remove the variables
`prez_dem`, `prez_gop`, and `day`.

``` r
pols_df = 
  read_csv("data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>% 
  mutate(
    month = month.name[month],
    president = recode(prez_dem, `0` = "gop", `1` = "dem")) %>% 
  select(-day, -prez_dem, -prez_gop) %>% 
  relocate(year)
```

    ## Rows: 822 Columns: 9

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): mon
    ## dbl (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, re...

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Part 2

Next we move on to the snp.csv. We can reuse the separate code from part
one here to separate the date components.

``` r
snp_df = 
  read_csv("data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>% 
  mutate(month = month.name[month]) %>%
  relocate(year, month)
```

    ## Rows: 787 Columns: 2

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

## Part 3

Moving on to unemployment.csv. To match with the other two data sets, we
need the columns to be year, month, and unemployment.The months are
listed in the .csv as their three letter abbreviations so we need to fix
that as well.

``` r
unemployment_df = 
  read_csv("data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  rename(January = jan, February = feb, March = mar, April = apr, May = may, June = jun, July = jul, August = aug, September = sep, October = oct, November = nov, December = dec) %>% 
  pivot_longer(
    January:December,
    names_to = "month",
    values_to = "percent_unemployed"
  ) %>%
  relocate(year, month)
```

    ## Rows: 68 Columns: 13

    ## -- Column specification --------------------------------------------------------
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## i Use `spec()` to retrieve the full column specification for this data.
    ## i Specify the column types or set `show_col_types = FALSE` to quiet this message.

Now we join `pols_df` and `snp_df` and then join `unemployment_df` to
the result

``` r
pols_snp_unemploy_df = 
  left_join(pols_df, snp_df, by = c("year", "month")) %>% 
  left_join(unemployment_df, by = c("year", "month"))
```

*This is where a short paragraph, explaining what everything was
originally and describing the new data set, will go*

Our first data set, “pols-month,” described the number of national
politicians who are democrats or republicans at any given time. Our
second data set, “snp,” contained date information and an indicator of
stock market performance. Our third data set, “unemployment,” detailed
the percentage of unemployment at any given time. *Describe the new df*

# Problem 3

A problem for later
